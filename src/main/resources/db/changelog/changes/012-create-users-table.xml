<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                   https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">

    <changeSet id="12" author="agri-management">
        <sql>
            CREATE TABLE users
            (
                id         BIGSERIAL PRIMARY KEY,
                first_name VARCHAR(100)  NOT NULL,
                last_name  VARCHAR(100)  NOT NULL,
                email      VARCHAR(255)  NOT NULL UNIQUE,
                password   VARCHAR(255)  NOT NULL,
                role       VARCHAR(50)   NOT NULL,
                enabled    BOOLEAN       NOT NULL DEFAULT TRUE,
                created_at TIMESTAMP     NOT NULL,
                updated_at TIMESTAMP     NOT NULL
            );

            CREATE INDEX idx_users_email ON users(email);
        </sql>

        <rollback>
            DROP TABLE IF EXISTS users;
        </rollback>

    </changeSet>

</databaseChangeLog>

